<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="using:DSV.Models"
             x:Class="DSV.Views.NodeView"
             x:DataType="models:Node"
             Width="{Binding Width}" 
             Height="{Binding Height}">
    
    <Grid>
        <!-- Main Node Border -->
        <Border Name="MainBorder"
                Background="#FF4444FF"
                BorderBrush="#FF000088"
                BorderThickness="2"
                CornerRadius="5"
                Padding="8">
            
            <StackPanel>
                <TextBlock Text="{Binding Title}" FontSize="16" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="Content PlaceHolder" Foreground="White" Margin="0,4,0,0"/>
            </StackPanel>
        </Border>

        <!-- Selection Border -->
        <Border Name="SelectionBorder"
                BorderBrush="#FFFF9900"
                BorderThickness="2"
                CornerRadius="5"
                IsVisible="{Binding IsSelected}"/>

        <!-- Resize Handles (visible when selected) -->
        <Canvas IsVisible="{Binding IsSelected}">
            <!-- Corner resize handles -->
            <Border Name="ResizeTopLeft"
                    Width="8" Height="8"
                    Background="#FFFF9900"
                    Canvas.Left="-4" Canvas.Top="-4"
                    Cursor="Hand"/>
            
            <Border Name="ResizeTopRight"
                    Width="8" Height="8"
                    Background="#FFFF9900"
                    Canvas.Right="-4" Canvas.Top="-4"
                    Cursor="Hand"/>
            
            <Border Name="ResizeBottomLeft"
                    Width="8" Height="8"
                    Background="#FFFF9900"
                    Canvas.Left="-4" Canvas.Bottom="-4"
                    Cursor="Hand"/>
            
            <Border Name="ResizeBottomRight"
                    Width="8" Height="8"
                    Background="#FFFF9900"
                    Canvas.Right="-4" Canvas.Bottom="-4"
                    Cursor="Hand"/>

            <!-- Edge resize handles -->
            <Border Name="ResizeTop"
                    Width="20" Height="4"
                    Background="#FFFF9900"
                    Canvas.Top="-2"
                    Canvas.Left="65"
                    Cursor="SizeNorthSouth"/>
            
            <Border Name="ResizeBottom"
                    Width="20" Height="4"
                    Background="#FFFF9900"
                    Canvas.Bottom="-2"
                    Canvas.Left="65"
                    Cursor="SizeNorthSouth"/>
            
            <Border Name="ResizeLeft"
                    Width="4" Height="20"
                    Background="#FFFF9900"
                    Canvas.Left="-2"
                    Canvas.Top="30"
                    Cursor="SizeWestEast"/>
            
            <Border Name="ResizeRight"
                    Width="4" Height="20"
                    Background="#FFFF9900"
                    Canvas.Right="-2"
                    Canvas.Top="30"
                    Cursor="SizeWestEast"/>
        </Canvas>
    </Grid>
</UserControl>
